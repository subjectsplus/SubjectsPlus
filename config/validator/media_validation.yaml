########################################
# Full List of Constraints: https://symfony.com/doc/current/reference/constraints.html
# Follow the YAML examples for applying a specific constraint.
# 
# NOTES
# Omitting the "groups" field will keep the constraint apart of the default group.
# How to apply validation groups: https://symfony.com/doc/current/form/validation_groups.html
#
# FORMAT
# App\Entity\[EntityName]:
#   constraints:
#     - [Constraint]:
#          fields: [ [EntityPropertyName], ... ]
#          message: "[ErrorMessage]"
#          groups: [ [GroupName] ]
#   properties:
#     [EntityPropertyName]:
#       - [Constraint]:
#            message: "[ErrorMessage]"
#            groups: [ [GroupName] ]
#
########################################

App\Entity\Media:
    constraints:
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: 
            fields: [fileName]
            message: 'media.constraints.file_name.unique_entity'
    properties:
        file:
            - Image:
                mimeTypes: ['image/apng', 'image/avif', 'image/gif', 'image/jpeg', 'image/png', 'image/webp']
                mimeTypesMessage: 'Image file provided not supported! Please upload a .apng, .avif, .gif, .jpg, .png, or .webp image file.'
                groups: ['image']
            - File:
                # do not include images for generic, use image group
                mimeTypes: ['application/*', 'audio/*', 'text/*']
                groups: ['generic']
        